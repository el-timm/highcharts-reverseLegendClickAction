!function(e){e.wrap(e.Chart.prototype,"init",function(e){e.apply(this,Array.prototype.slice.call(arguments,1));var i=this,s=i.legend.options.reverseLegendClickAction||!1;i.update({chart:{__visibleSeries:[]}}),!0===s&&(i.options.plotOptions.series||(i.options.plotOptions.series={}),i.options.plotOptions.series.events||(i.options.plotOptions.series.events={}),i.update({plotOptions:{series:{events:{legendItemClick:function(e){e.preventDefault();var i=-1,s=this.chart;return 1==s.options.chart.__visibleSeries.length&&s.options.chart.__visibleSeries[0]===this.name?(s.series.forEach(function(e){e.setVisible(!0)}),s.options.chart.__visibleSeries.length=0,!1):s.options.chart.__visibleSeries.includes(this.name)?(this.setVisible(!1),i=s.options.chart.__visibleSeries.indexOf(this.name),s.options.chart.__visibleSeries.splice(i,1),!1):(s.options.chart.__visibleSeries.push(this.name),s.series.forEach(function(e){s.options.chart.__visibleSeries.includes(e.name)?e.setVisible(!0):e.setVisible(!1)}),void(s.options.chart.__visibleSeries.length===s.series.length&&(s.options.chart.__visibleSeries.length=0)))}}}}}))})}(Highcharts);
