!function(i){i.wrap(i.Chart.prototype,"init",function(i){i.apply(this,Array.prototype.slice.call(arguments,1));const t=this,e=t.legend.options.reverseLegendClickAction||!1;t.update({chart:{__visibleSeries:[]}}),!0===e&&(t.options.plotOptions.series||(t.options.plotOptions.series={}),t.options.plotOptions.series.events||(t.options.plotOptions.series.events={}),t.update({plotOptions:{series:{events:{legendItemClick:function(i){if(i.preventDefault(),1==this.chart.options.chart.__visibleSeries.length&&this.chart.options.chart.__visibleSeries[0]===this.name)return this.chart.series.forEach(i=>i.setVisible(!0)),this.chart.options.chart.__visibleSeries.length=0,!1;if(this.chart.options.chart.__visibleSeries.includes(this.name)){this.setVisible(!1);let i=this.chart.options.chart.__visibleSeries.indexOf(this.name);return this.chart.options.chart.__visibleSeries.splice(i,1),!1}this.chart.options.chart.__visibleSeries.push(this.name),this.chart.series.forEach(i=>{this.chart.options.chart.__visibleSeries.includes(i.name)?i.setVisible(!0):i.setVisible(!1)}),this.chart.options.chart.__visibleSeries.length===this.chart.series.length&&(this.chart.options.chart.__visibleSeries.length=0)}}}}}))})}(Highcharts);
